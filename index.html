<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="noindex">
  <title>Password protected</title>
  <style>
     @font-face{font-family:"Inter:Regular";font-style:normal;src:url("/_woff/v2/Inter_1/Inter_1-english.woff2");font-display:block;unicode-range:U+0000-00A0,U+00A2-00A9,U+00AC-00AE,U+00B0-00B7,U+00B9-00BA,U+00BC-00BE,U+00D7,U+00F7,U+2000-206F,U+2074,U+20AC,U+2122,U+2190-21BB,U+2212,U+2215,U+F8FF,U+FEFF,U+FFFD}@font-face{font-family:"Inter:Regular";font-style:normal;src:url("/_woff/v2/Inter_1/Inter_1-rest-latin.woff2");font-display:block;unicode-range:U+00A1,U+00AA-00AB,U+00AF,U+00B8,U+00BB,U+00BF-00D6,U+00D8-00F6,U+00F8-00FF,U+0131,U+0152-0153,U+02B0-02FF}@font-face{font-family:"Inter:Regular";font-style:normal;src:url("/_woff/v2/Inter_1/Inter_1-latin-extended-a.woff2");font-display:block;unicode-range:U+0100-0130,U+0132-0151,U+0154-017F}@font-face{font-family:"Inter:Regular";font-style:normal;src:url("/_woff/v2/Inter_1/Inter_1-latin-extended-b.woff2");font-display:block;unicode-range:U+0180-024F}@font-face{font-family:"Inter:Regular";font-style:normal;src:url("/_woff/v2/Inter_1/Inter_1-latin-extended-additional.woff2");font-display:block;unicode-range:U+1E00-1EFF}@font-face{font-family:"Inter:Regular";font-style:normal;src:url("/_woff/v2/Inter_1/Inter_1-rest.woff2");font-display:block;unicode-range:U+0250-02AF,U+0300-1DFF,U+1F00-1FFF,U+2070-2073,U+2075-20AB,U+20AD-2121,U+2123-218F,U+21BC-2211,U+2213-2214,U+2216-F8FE,U+F900-FEFE,U+FF00-FFFC,U+FFFE-FFFF}
  </style>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: "Inter:Regular", -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, system-ui, sans-serif;
      background: #ffffff;
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      padding: 16px;
    }

    .container {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 16px;
      width: 100%;
      max-width: 300px;
    }

    .header {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 4px;
      text-align: center;
    }

    .icon-container {
      width: 30px;
      height: 30px;
      margin-bottom: 4px;
    }

    .title {
      font-family: "Inter:Regular", -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, system-ui, sans-serif;
      font-size: 20px;
      font-weight: 550;
      line-height: 30px;
      color: rgba(0, 0, 0, 0.9);
      letter-spacing: -0.075px;
    }

    .subtitle {
      font-family: "Inter:Regular", -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, system-ui, sans-serif;
      font-size: 16px;
      font-weight: 450;
      line-height: 21px;
      color: rgba(0, 0, 0, 0.5);
      letter-spacing: 0.055px;
    }

    #password-form {
      width: 100%;
    }

    .input-section {
      width: 100%;
      margin-bottom: 16px;
    }

    .password-input {
      width: 100%;
      height: 32px;
      background: #f5f5f5;
      border: none;
      border-radius: 5px;
      padding: 8px;
      font-family: "Inter:Regular", -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, system-ui, sans-serif;
      font-size: 16px;
      color: rgba(0, 0, 0, 0.9);
    }

    .password-input:focus {
      background: #eeeeee;
    }

    .password-input::placeholder {
      color: rgba(0, 0, 0, 0.5);
    }

    .submit-button {
      width: 100%;
      background: #ffffff;
      border: 1px solid rgba(0, 0, 0, 0.1);
      border-radius: 5px;
      padding: 8px 12px;
      font-family: "Inter:Regular", -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, system-ui, sans-serif;
      font-size: 16px;
      font-weight: 450;
      color: rgba(0, 0, 0, 0.9);
      letter-spacing: 0.055px;
      cursor: pointer;
    }

    .submit-button:hover {
      background: #eeeeee;
      border-color: rgba(0, 0, 0, 0.15);
    }

    .submit-button:active {
      background: #e5e5e5;
    }

    .submit-button:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }

    .error-message {
      margin-top: 8px;
      font-family: "Inter:Regular", -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, system-ui, sans-serif;
      font-size: 16px;
      font-weight: 450;
      color: #dc3412;
      line-height: 21px;
      letter-spacing: 0.055px;
      display: none;
    }

    .error-message.show {
      display: block;
    }

    .password-input.error {
      border: 1px solid #dc3412;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <div class="icon-container">
        <svg width="30" height="30" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M16 3.5C19.0376 3.5 21.5 5.96243 21.5 9C21.5 12.0376 19.0376 14.5 16 14.5C15.4798 14.5 14.977 14.426 14.5 14.291V15.5H12.5V16.5C12.5 17.0523 12.0523 17.5 11.5 17.5H10.5V18.5C10.5 19.0523 10.0523 19.5 9.5 19.5H8.5V20.5C8.5 21.0523 8.05228 21.5 7.5 21.5H4.5C3.94772 21.5 3.5 21.0523 3.5 20.5V17.4141C3.50004 17.1489 3.60547 16.8945 3.79297 16.707L10.5781 9.9209C10.5276 9.62139 10.5 9.31388 10.5 9C10.5 5.96243 12.9624 3.5 16 3.5ZM16 4.5C13.5147 4.5 11.5 6.51472 11.5 9C11.5 9.25506 11.5227 9.50716 11.5645 9.75488L11.6504 10.2637L11.2852 10.6279L4.5 17.4141V20.5H7.5V18.5H9.5V16.5H11.5V14.5H13.5V12.9688L14.7725 13.3291C15.1641 13.4399 15.5753 13.5 16 13.5C18.4853 13.5 20.5 11.4853 20.5 9C20.5 6.51472 18.4853 4.5 16 4.5ZM17 6.5C17.8284 6.5 18.5 7.17157 18.5 8C18.5 8.82843 17.8284 9.5 17 9.5C16.1716 9.5 15.5 8.82843 15.5 8C15.5 7.17157 16.1716 6.5 17 6.5ZM17 7.5C16.7239 7.5 16.5 7.72386 16.5 8C16.5 8.27614 16.7239 8.5 17 8.5C17.2761 8.5 17.5 8.27614 17.5 8C17.5 7.72386 17.2761 7.5 17 7.5Z" fill="black" fill-opacity="0.9" style="fill:black;fill-opacity:0.9;"/>
        </svg>
      </div>
      <h1 class="title">Password protected</h1>
      <p class="subtitle">Enter the password to view this page</p>
    </div>
    <form id="password-form">
      <div class="input-section">
        <input
          id="password-input"
          type="password"
          name="password"
          class="password-input"
          aria-label="password"
        />
        <div id="error-message" class="error-message">Please enter a valid password</div>
      </div>
      <button type="submit" class="submit-button">
        Submit
      </button>
    </form>
  </div>

  <script type="module">
    const passwordForm = document.getElementById('password-form')
    const submitButton = passwordForm.querySelector('.submit-button')
    const passwordInput = document.getElementById('password-input')
    const errorMessage = document.getElementById('error-message')

    passwordInput.addEventListener('input', () => {
      passwordInput.classList.remove('error')
      errorMessage.classList.remove('show')
    })

    function showError() {
      errorMessage.classList.add('show')
      passwordInput.classList.add('error')
      passwordInput.focus()
    }

    passwordForm.addEventListener('submit', (e) => {
      e.preventDefault()

      if (passwordInput.value.length === 0) {
        showError()
        return
      }

      submitButton.disabled = true
      submitButton.textContent = 'Submitting...'

      fetch('/_api/login', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({ password: passwordInput.value }),
      }).then(response => {
        if (response.ok) {
          window.location.reload()
        } else {
          throw new Error('Invalid password')
        }
      }).catch(error => {
        submitButton.disabled = false
        submitButton.textContent = 'Submit'

        showError()
      })
    })
  </script>
</body>
</html>